<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
  <meta charset="UTF-8">
  <title>Multi-Zone Layout with Børneloppen TV & Vejr</title>
  <link rel="stylesheet" href="Content/style.css" />

  <style>
    :root {
      --primary-bg:        #ffffff;
      --accent-bg:         #f5f5f5;
      --ticker-bg:         #111;
      --weather-gradient-start: rgb(223, 30, 98);
      --weather-gradient-end:   rgb(223, 30, 98);
      --font-sans:         'Roboto', 'Helvetica Neue', sans-serif;
      --font-color-light:  #ffffff;
      --font-color-dark:   rgba(0,0,0,0.87);
      --shadow-soft:       0 2px 6px rgba(0,0,0,0.15);
    }

    html, body {
      margin:    0;
      padding:   0;
      width:     100vw;
      height:    100vh;
      font-family: var(--font-sans);
      color: var(--font-color-dark);
      background-color: var(--accent-bg);
      display:   grid;
      grid-template-columns: 300px 1fr;
      grid-template-rows:    1fr  100px;
      overflow: hidden;
    }

    /* WEATHER ZONE (left column) */
    #weather-zone {
      grid-column:   1 / 2;
      grid-row:      1 / 3;
      background:    linear-gradient(
                       150deg,
                       var(--weather-gradient-start) 0%,
                       var(--weather-gradient-end)   100%
                     );
      box-shadow:    var(--shadow-soft);
      display:       flex;
      align-items:   center;
      justify-content: center;
      /* Reduce text size further (from 70% to 50%) */
      font-size:     50% !important;
    }
    #weather-zone .weather-iframe {
      width:  280px;
      height: 1065px !important;
      border: none;
    }

    /* MAIN ZONE (top-right) */
    #main-zone {
      grid-column:   2 / 3;
      grid-row:      1 / 2;
      background:    var(--primary-bg);
      box-shadow:    var(--shadow-soft);
      display:       flex;
      align-items:   center;
      justify-content: center;
    }
    #main-zone .main-iframe {
      width:  100%;
      height: 100%;
      border: none;
    }

    /* NEWS TICKER ZONE (full-width bottom) */
    #news-zone {
      grid-column:   1 / 3;   /* spans both left and right columns */
      grid-row:      2 / 3;   /* bottom 100px */
      background:    var(--ticker-bg);
      overflow:      hidden;
      position:      relative;
    }
    #news-zone .news-iframe {
      width:  200% !important;
      height: 100%;            /* fill the entire 100px footer */
      border: none;
      /* Scale DR’s ticker down to fit exactly 100px */
      transform-origin: top left;
      transform:         scale(0.67);
    }

    /* PURE-CSS TICKER (fallback, if needed) */
    @keyframes ticker {
      0%   { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }
    .ticker-placeholder {
      position: absolute;
      top:      0;
      left:     0;
      right:    0;
      bottom:   0;
      display:  flex;
      align-items: center;
      overflow: hidden;
    }
    .ticker-placeholder .ticker-text {
      display:         inline-block;
      padding-right:   100%;
      animation:       ticker 60s linear infinite;
      will-change:     transform;
      font-size:       1.2rem;
      line-height:     100px;      /* matches the 100px footer */
      color:           var(--font-color-light);
    }

    /* New rule to scale fonts in layout containers */
    .layout, .layout-column, .layout-row {
      box-sizing: border-box;
      display: -webkit-box;
      display: -webkit-flex;
      display: flex;
      font-size: 0.7em;
    }
  </style>
</head>

<body ng-controller="controller">
  <!-- WEATHER ZONE (left column) -->
  <div id="weather-zone" ng-if="viewModel.templateId === 3">
    <iframe
      src="https://app.proreception.com/display/weather?id=13604c5a-9b02-4244-8569-ab918b4f8630"
      class="weather-iframe"
      scrolling="no"
    ></iframe>
  </div>

  <!-- MAIN ZONE (top-right) -->
  <div id="main-zone" ng-if="viewModel.templateId === 3">
    <iframe
      src="https://www.boerneloppen.dk/tv?showCounters=true"
      class="main-iframe"
      sandbox="allow-scripts allow-same-origin allow-popups"
      allowfullscreen
    ></iframe>
  </div>

  <!-- NEWS TICKER ZONE (full-width bottom) -->
  <div id="news-zone" ng-if="viewModel.templateId === 3">
    <iframe
      src="https://app.evosignage.com/display/newsticker?id=6f8ab6dd-eaa7-492e-a341-607c129457bf"
      class="news-iframe"
      scrolling="no"
    ></iframe>
  </div>
</body>
</html>
